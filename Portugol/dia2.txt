programa
{
    funcao inicio()
    {
        inteiro senha[4], tentativa[4], certo_posicao, certo_errado, i, j, tentativas
        logico usadoSenha[4], usadoTentativa[4], valido

        tentativas <- 0
        
        // Gerar senha aleatÃ³ria Ãºnica
        para (i <- 0; i < 4; i++)
        {
            repita
            {
                senha[i] <- inteiro(rand() * 10) // NÃºmero entre 0 e 9
                valido <- verdadeiro

                // Garantir que nÃ£o hÃ¡ nÃºmeros repetidos
                para (j <- 0; j < i; j++)
                {
                    se (senha[i] == senha[j]) entao
                    {
                        valido <- falso
                    }
                }
            } enquanto (nao valido)
        }

        escreval("Bem-vindo ao Desafio do CÃ³digo Secreto!")
        escreval("Tente adivinhar a senha de 4 dÃ­gitos. Cada nÃºmero Ã© Ãºnico.")

        // Loop principal do jogo
        repita
        {
            certo_posicao <- 0
            certo_errado <- 0
            tentativas <- tentativas + 1

            // Resetar marcadores
            para (i <- 0; i < 4; i++)
            {
                usadoSenha[i] <- falso
                usadoTentativa[i] <- falso
            }

            // Capturar entrada vÃ¡lida do usuÃ¡rio
            repita
            {
                escreva("Digite quatro nÃºmeros distintos: ")
                leia(tentativa[0], tentativa[1], tentativa[2], tentativa[3])

                valido <- verdadeiro

                // Verificar se sÃ£o nÃºmeros distintos
                para (i <- 0; i < 4; i++)
                {
                    para (j <- i + 1; j < 4; j++)
                    {
                        se (tentativa[i] == tentativa[j]) entao
                        {
                            valido <- falso
                        }
                    }
                }

                se (nao valido) entao
                {
                    escreval("Erro: Os nÃºmeros devem ser diferentes! Tente novamente.")
                }
            } enquanto (nao valido)

            // Comparar posiÃ§Ã£o correta
            para (i <- 0; i < 4; i++)
            {
                se (tentativa[i] == senha[i]) entao
                {
                    certo_posicao <- certo_posicao + 1
                    usadoSenha[i] <- verdadeiro
                    usadoTentativa[i] <- verdadeiro
                }
            }

            // Comparar nÃºmeros certos, mas em posiÃ§Ãµes erradas
            para (i <- 0; i < 4; i++)
            {
                se (nao usadoTentativa[i]) entao
                {
                    para (j <- 0; j < 4; j++)
                    {
                        se ((tentativa[i] == senha[j]) e (nao usadoSenha[j])) entao
                        {
                            certo_errado <- certo_errado + 1
                            usadoSenha[j] <- verdadeiro
                            saia
                        }
                    }
                }
            }

            // Exibir dicas ao usuÃ¡rio
            escreval("Tentativa #", tentativas)
            escreval("âœ” NÃºmeros certos na posiÃ§Ã£o correta: ", certo_posicao)
            escreval("âŒ NÃºmeros certos na posiÃ§Ã£o errada: ", certo_errado)
            escreval("------------------------------")

        } enquanto (certo_posicao < 4)

        escreval("ðŸŽ‰ ParabÃ©ns! VocÃª descobriu a senha em ", tentativas, " tentativas.")